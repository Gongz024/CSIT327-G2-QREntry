{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event</title>
    <link rel="stylesheet" href="{% static 'css/events_creates.css' %}">
</head>
<body>

    <!-- üîô Back Button -->
    <div class="back-btn-container">
        <a href="{% url 'accounts:event' %}" class="back-btn">‚Üê Back</a>
    </div> 

    <div class="container fade-in">
        <h1>Create New Event</h1>

        <form class="event-form" id="createEventForm" action="{% url 'accounts:create_event' %}" method="post">
            {% csrf_token %}

            <div class="form-group">
                {% if messages %}
    <div class="global-messages">
        {% for message in messages %}
            <div class="alert {{ message.tags }}">{{ message }}</div>
        {% endfor %}
    </div>
{% endif %}
                <label for="eventName">Event Name</label>
                <input type="text" id="eventName" name="eventName" 
                       value="{{ values.eventName|default:'' }}" 
                       placeholder="Enter event name" required>
                {% if errors.eventName %}
                    <p class="error-message">{{ errors.eventName }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="venue">Venue</label>
                <input type="text" id="venue" name="venue"
                       value="{{ values.venue|default:'' }}"
                       placeholder="Enter event venue" required>
                {% if errors.venue %}
                    <p class="error-message">{{ errors.venue }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="category">Category</label>
                <select id="category" name="category" required>
                    <option value="" disabled {% if not values.category %}selected{% endif %}>Select a category</option>
                    <option value="Concerts" {% if values.category == 'Concerts' %}selected{% endif %}>Concerts</option>
                    <option value="Sports" {% if values.category == 'Sports' %}selected{% endif %}>Sports</option>
                    <option value="Seminars" {% if values.category == 'Seminars' %}selected{% endif %}>Seminars</option>
                    <option value="Others" {% if values.category == 'Others' %}selected{% endif %}>Others</option>
                </select>
                {% if errors.category %}
                    <p class="error-message">{{ errors.category }}</p>
                {% endif %}
            </div>

            <div class="form-group">
    <label for="ticketLimit">Ticket Limit</label>
    <input 
        type="number" 
        id="ticketLimit" 
        name="ticketLimit" 
        value="{{ values.ticketLimit|default:'' }}"
        placeholder="Enter ticket limit (e.g. 100)"
        min="1"
        required>
    {% if errors.ticketLimit %}
        <p class="error-message">{{ errors.ticketLimit }}</p>
    {% endif %}
</div>

            <div class="form-group">
    <label for="eventDate">Event Date</label>
    <input type="date" id="eventDate" name="eventDate" 
           value="{{ values.eventDate|default:'' }}" 
           min="2025-01-01" max="2026-12-31" required>
    <small class="note">Please select a date between 2025 and 2026.</small>
    {% if errors.eventDate %}
        <p class="error-message">{{ errors.eventDate }}</p>
    {% endif %}
</div>

            <div class="form-group">
                <label for="startTime">Start Time</label>
                <input type="time" id="startTime" name="startTime" 
                       value="{{ values.startTime|default:'' }}" required>
                {% if errors.startTime %}
                    <p class="error-message">{{ errors.startTime }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="endTime">End Time</label>
                <input type="time" id="endTime" name="endTime" 
                       value="{{ values.endTime|default:'' }}" required>
                {% if errors.endTime %}
                    <p class="error-message">{{ errors.endTime }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="ticketPrice">Ticket Price</label>
                <input type="number" id="ticketPrice" name="ticketPrice" 
                       value="{{ values.ticketPrice|default:'' }}"
                       placeholder="‚Ç± Enter price" step="0.01" required>
                {% if errors.ticketPrice %}
                    <p class="error-message">{{ errors.ticketPrice }}</p>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="description">Description</label>
                <textarea id="description" name="description" placeholder="Enter event description" required>{{ values.description|default:'' }}</textarea>
                {% if errors.description %}
                    <p class="error-message">{{ errors.description }}</p>
                {% endif %}
            </div>

            <button type="submit" class="btn-submit">Create Event</button>
        </form>
    </div>

</body>
</html>